{"version":3,"file":"ingatlanokView.component.js","sourceRoot":"","sources":["file:///C:/wamp64/www/ingatlanlotto/winner_front/tmp/broccoli_type_script_compiler-input_base_path-SL1UMPTc.tmp/0/src/app/views/ingatlanok/ingatlanokView.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component,OnInit,ElementRef} from '@angular/core';\nimport {MessageTypes,ErrorMsg,ErrorService} from \"../../globals/services/error.service\";\nimport {APIService} from \"../../globals/services/API.service\";\nimport {HeadLabelComponent} from \"../../components/gombok/haedLabel.component\";\nimport {IngatlanComponent} from \"../../components/ingatlanok/ingatlan\";\nimport {IngatlanFullComponent} from \"../../components/ingatlanok/ingatlanFull.component\";\n//import {AnimationBuilder} from '@angular/src/animate/animation_builder';\n\n\nimport {WINDOW, WINDOW_PROVIDERS} from '../../utils/scrollWindow/window-service';\ndeclare var jQuery:any;\n\n@Component({\n    moduleId: module.id,\n    selector: 'ingatlanok-view-component',\n    templateUrl:'htmls/ingatlanok.html',\n    styleUrls: [\"ingatlanok.css\"],\n    directives: [HeadLabelComponent,IngatlanComponent,IngatlanFullComponent],\n    providers:[APIService,WINDOW_PROVIDERS],\n\n})\nexport class IngatlanokViewComponent implements OnInit{\n    win: Window;\n    private offSet: number;\n    ingatlanok:any;\n    selectedIngatlan:any;\n    limit:number=4;\n    offset:number=0;\n    listView:boolean=false;\n    deitalPanelBlock='ingatlan';\n  constructor(\n      private _ErrorService:ErrorService,\n      private _ApiService:APIService,\n     // private _ab:AnimationBuilder,\n      private _e:ElementRef,\n      private _win: WINDOW\n  ){\n      this.win = _win.nativeWindow;\n  };\n    ngOnInit() {\n        this.showList();\n\n\n\n        jQuery('.flexslider').each(function(){\n            var sliderInstance = jQuery(this);\n\n              sliderInstance.flexslider({\n                animation: true,\n                easing: \"swing\",\n                direction: 'horizontal',\n                slideshow: true,\n                slideshowSpeed: 5000,\n                animationSpeed: 600,\n                initDelay: 0,\n                randomize: false,\n                pauseOnHover: false,\n                controlNav: true,\n                directionNav: true,\n                prevText: \"\",\n                nextText: \"\",\n                start: function(){jQuery(\".flex-caption\").fadeIn();}\n              });\n\n\n\n\n         })\n\n    }\n    private showList()\n    {\n        let q=(this.listView)?'api/ingatlans/where=id>1':'api/ingatlans/where=id>1&offset='+this.offset+'&limit='+this.limit;\n        this._ApiService.getResponseGET(q,'').subscribe(\n                data=> {\n               console.log(data);\n                this.ingatlanok=data;\n                if (!this.selectedIngatlan)\n                {\n                    this.onIngatlanSelect(this.ingatlanok[0].id);\n                }\n\n            }\n\n\n            ,\n                error=> {\n                 let msg:ErrorMsg;\n                  msg.type=MessageTypes.mtDanger;\n                  msg.msg='Sikertelen';\n                this._ErrorService.setErrorMsg(msg);\n            }\n        )\n    }\n    next(){\n       /* this.offset+=1;\n        let open=false;\n      //  console.log(this._e.nativeElement);\n       // this._e.nativeElement.children[0].children[1].style.display=\"none\";\n        this._e.nativeElement.children[0].children[1];\n      //  this._errorStatus=this._errorService.errorSucces;\n        let before=(open)?0:50;\n        let after=(open)?50:0;\n        //let animation = this._ab.css();\n        animation.setDuration(6000);\n       animation.setFromStyles({height: before, overflow: 'hidden'}).setToStyles({height: after});\n\n      if (this._errorService.errorSucces==true)\n        {\n            this.messageStatus='main_error_succes';\n\n            setTimeout(()=>{\n                this._errorService.errorClear();\n\n            },1500);\n\n        }else{\n            this.messageStatus='main_error';\n\n        }\n\n*/\n\n        this.showList();\n    }\n    prev(){\n        this.offset-=1;\n        this.showList();\n    }\n    changeView(){\n        this.listView=!this.listView;\n        this.showList();\n    }\n    onIngatlanSelect(event){\n        this._ApiService.getResponseGET('api/ingatlan/'+event,'').subscribe(\n                        data=> {\n                        console.log(data);\n\n                            if (this.selectedIngatlan)\n                              this.smoothScroll('ingatlanFullDeital')\n                            this.selectedIngatlan=data;\n\n                    },\n                        error=> {\n                        console.log(error);\n                    });\n        //this.selectedIngatlan=\n    }\n    /***********************************\n    Az automatiku scroll m�velkethez\n    ***********************************/\n\n    scrollTo(yPoint: number, duration: number) {\n        setTimeout(() => {\n            this.win.window.scrollTo(0, yPoint)\n        }, duration);\n        return;\n    }\n    smoothScroll(eID) {\n        var startY = currentYPosition();\n        var stopY = elmYPosition(eID);\n        var distance = stopY > startY ? stopY - startY : startY - stopY;\n        if (distance < 100) {\n            this.win.window.scrollTo(0, stopY); return;\n        }\n        var speed = Math.round(distance / 100);\n        if (speed >= 20) speed = 20;\n        var step = Math.round(distance / 100);\n        var leapY = stopY > startY ? startY + step : startY - step;\n        var timer = 0;\n        if (stopY > startY) {\n            for (var i = startY; i < stopY; i += step) {\n                this.scrollTo(leapY, timer * speed);\n                leapY += step; if (leapY > stopY) leapY = stopY; timer++;\n            } return;\n        }\n        for (var i = startY; i > stopY; i -= step) {\n            this.scrollTo(leapY, timer * speed);\n            leapY -= step; if (leapY < stopY) leapY = stopY; timer++;\n        }\n    }\n    showIngatlanReszletei(block){\n        this.deitalPanelBlock=block;\n    }\n}\n/***********************************\n Az automatiku scroll m�velkethez\n ***********************************/\nfunction currentYPosition() {\n    // Firefox, Chrome, Opera, Safari\n    if (self.pageYOffset) return self.pageYOffset;\n    // Internet Explorer 6 - standards mode\n    if (document.documentElement && document.documentElement.scrollTop)\n        return document.documentElement.scrollTop;\n    // Internet Explorer 6, 7 and 8\n    if (document.body.scrollTop) return document.body.scrollTop;\n    return 0;\n}\nfunction elmYPosition(eID) {\n    var elm = <any>document.getElementById(eID);\n\n    console.log(elm);\n    var y = elm.offsetTop;\n    var node = elm;\n    while (node.offsetParent && node.offsetParent != document.body) {\n        node = node.offsetParent;\n        y += node.offsetTop;\n    } return y;\n}\n"]}