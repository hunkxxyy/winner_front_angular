{"version":3,"file":"ingatlanokView.component.js","sourceRoot":"","sources":["file:///C:/wamp64/www/ingatlanlotto/winner_front/tmp/broccoli_type_script_compiler-input_base_path-mAvDBbB3.tmp/0/src/app/views/ingatlanok/ingatlanokView.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component,OnInit,ElementRef,ViewChild} from '@angular/core';\nimport {trigger, state, style, transition, animate} from '@angular/core';\nimport {MessageTypes,ErrorMsg,ErrorService} from \"../../globals/services/error.service\";\nimport {APIService} from \"../../globals/services/API.service\";\nimport {AuthService} from \"../../globals/services/auth.service\";\nimport {KivalasztottIngatlanokService} from \"../../globals/services/kivalasztott-ingatlanok.service\";\nimport {HeadLabelComponent} from \"../../components/gombok/haedLabel.component\";\nimport {IngatlanComponent} from \"../../components/ingatlanok/ingatlan\";\nimport {IngatlanFullComponent} from \"../../components/ingatlanok/ingatlanFull.component\";\nimport {HunkSliderComponent} from '../../components/hunk-slider/hunk-slider.component';\n\n\nimport {WINDOW, WINDOW_PROVIDERS} from '../../utils/scrollWindow/window-service';\ndeclare var jQuery:any;\n\n@Component({\n    moduleId: module.id,\n    selector: 'ingatlanok-view-component',\n    templateUrl:'htmls/ingatlanok.html',\n    styleUrls: [\"ingatlanok.css\"],\n    directives: [HeadLabelComponent,IngatlanComponent,IngatlanFullComponent,HunkSliderComponent],\n    providers:[APIService,WINDOW_PROVIDERS,KivalasztottIngatlanokService],\n  animations: [\n    trigger('movementtrigger', [ //meghatározom az animáció azonosítóját\n      state('first', style({'padding-left':'0px'})),\n      state('second', style({'padding-left': '200px'})),\n      transition('first=>second', [\n        animate('200ms ease-in')\n      ]),\n      transition('second=>first', [\n        animate('200ms ease-out')\n      ])\n    ])\n  ]\n\n\n})\nexport class IngatlanokViewComponent implements OnInit{\n    win: Window;\n    private offSet: number;\n    listaTipus:string; //lista, kivalasztott\n    ingatlanok:any;\n\n\n    selectedIngatlan:any;\n    limit:number=40;\n    offset:number=0;\n    listView:boolean=false;\n    deitalPanelBlock='ingatlan';\n  @ViewChild('hunkSlider') hunkSlider:ElementRef;\n  constructor(\n      private _ErrorService:ErrorService,\n      private _ApiService:APIService,\n     // private _ab:AnimationBuilder,\n      private _e:ElementRef,\n      private _win: WINDOW,\n      private _AuthService:AuthService,\n      public _KivalasztottIngatlanokService:KivalasztottIngatlanokService\n  ){\n      this.win = _win.nativeWindow;\n  };\n    ngOnInit() {\n\n        this.showList();\n     /*  if (this._AuthService.logged) this.loadkivalasztottInfatlanok();*/\n\n        jQuery('.flexslider').each(function(){\n            var sliderInstance = jQuery(this);\n\n              sliderInstance.flexslider({\n                animation: true,\n                easing: \"swing\",\n                direction: 'horizontal',\n                slideshow: true,\n                slideshowSpeed: 5000,\n                animationSpeed: 600,\n                initDelay: 0,\n                randomize: false,\n                pauseOnHover: false,\n                controlNav: true,\n                directionNav: true,\n                prevText: \"\",\n                nextText: \"\",\n\n                start: function(){jQuery(\".flex-caption\").fadeIn();}\n              });\n\n\n\n\n         })\n\n\n    }\n    private showList(){\n       // let q=(this.listView)?'api/ingatlans/where=id>1':'api/ingatlans/where=id>1&offset='+this.offset+'&limit='+this.limit;\n        let q='api/ingatlans/where=id>1';\n        this._ApiService.getResponseGET(q,'').subscribe(\n                data=> {\n               console.log(data);\n                this.ingatlanok=data;\n                this.listaTipus='lista';\n                if (!this.selectedIngatlan)\n                {\n                    this.onIngatlanSelect(this.ingatlanok[0].id);\n                }\n\n            }\n            ,\n                error=> {\n                 let msg:ErrorMsg;\n                  msg.type=MessageTypes.mtDanger;\n                  msg.msg.push('Sikertelen');\n                this._ErrorService.setErrorMsg(msg);\n            }\n        )\n    }\n\n    next(){\n       /* this.offset+=1;\n        let open=false;\n      //  console.log(this._e.nativeElement);\n       // this._e.nativeElement.children[0].children[1].style.display=\"none\";\n        this._e.nativeElement.children[0].children[1];\n      //  this._errorStatus=this._errorService.errorSucces;\n        let before=(open)?0:50;\n        let after=(open)?50:0;\n        //let animation = this._ab.css();\n        animation.setDuration(6000);\n       animation.setFromStyles({height: before, overflow: 'hidden'}).setToStyles({height: after});\n\n      if (this._errorService.errorSucces==true)\n        {\n            this.messageStatus='main_error_succes';\n\n            setTimeout(()=>{\n                this._errorService.errorClear();\n\n            },1500);\n\n        }else{\n            this.messageStatus='main_error';\n\n        }\n\n*/\n     console.log(this.hunkSlider);\n      this.hunkSlider.nativeElement.scrollLeft=100;\n        this.showList();\n    }\n    prev(){\n        this.offset-=1;\n        this.showList();\n    }\n    changeView(){\n        this.listView=!this.listView;\n        this.showList();\n    }\n\n    onIngatlanSelect(event){\n        this._ApiService.getResponseGET('api/ingatlan/'+event,'').subscribe(\n                        data=> {\n                        console.log(data);\n\n                            if (this.selectedIngatlan)\n                              this.smoothScroll('ingatlanFullDeital')\n                            this.selectedIngatlan=data;\n\n                    },\n                        error=> {\n                        console.log(error);\n                    });\n        //this.selectedIngatlan=\n    }\n    /***********************************\n    Az automatiku scroll m�velkethez\n    ***********************************/\n\n    scrollTo(yPoint: number, duration: number) {\n        setTimeout(() => {\n            this.win.window.scrollTo(0, yPoint)\n        }, duration);\n        return;\n    }\n    smoothScroll(eID) {\n        var startY = currentYPosition();\n        var stopY = elmYPosition(eID);\n        var distance = stopY > startY ? stopY - startY : startY - stopY;\n        if (distance < 100) {\n            this.win.window.scrollTo(0, stopY); return;\n        }\n        var speed = Math.round(distance / 100);\n        if (speed >= 20) speed = 20;\n        var step = Math.round(distance / 100);\n        var leapY = stopY > startY ? startY + step : startY - step;\n        var timer = 0;\n        if (stopY > startY) {\n            for (var i = startY; i < stopY; i += step) {\n                this.scrollTo(leapY, timer * speed);\n                leapY += step; if (leapY > stopY) leapY = stopY; timer++;\n            } return;\n        }\n        for (var i = startY; i > stopY; i -= step) {\n            this.scrollTo(leapY, timer * speed);\n            leapY -= step; if (leapY < stopY) leapY = stopY; timer++;\n        }\n    }\n    showIngatlanReszletei(block){\n        this.deitalPanelBlock=block;\n    }\n    load(ingatlanlista){\n       this.listaTipus=ingatlanlista;\n\n    }\n}\n/***********************************\n Az automatiku scroll m�velkethez\n ***********************************/\nfunction currentYPosition() {\n    // Firefox, Chrome, Opera, Safari\n    if (self.pageYOffset) return self.pageYOffset;\n    // Internet Explorer 6 - standards mode\n    if (document.documentElement && document.documentElement.scrollTop)\n        return document.documentElement.scrollTop;\n    // Internet Explorer 6, 7 and 8\n    if (document.body.scrollTop) return document.body.scrollTop;\n    return 0;\n}\nfunction elmYPosition(eID) {\n    var elm = <any>document.getElementById(eID);\n\n    console.log(elm);\n    var y = elm.offsetTop;\n    var node = elm;\n    while (node.offsetParent && node.offsetParent != document.body) {\n        node = node.offsetParent;\n        y += node.offsetTop;\n    } return y;\n}\n"]}