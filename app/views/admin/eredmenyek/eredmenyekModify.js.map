{"version":3,"file":"eredmenyekModify.js","sourceRoot":"","sources":["file:///C:/wamp64/www/ingatlanlotto/winner_front/tmp/broccoli_type_script_compiler-input_base_path-SL1UMPTc.tmp/0/src/app/views/admin/eredmenyek/eredmenyekModify.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAgC,eAAe,CAAC,CAAA;AAChD,uBAA6B,iBAAiB,CAAC,CAAA;AAC/C,8BAA2B,yCAAyC,CAAC,CAAA;AACrE,iCAA6C,oBAAoB,CAAC,CAAA;AAClE,4BAAyB,uCAAuC,CAAC,CAAA;AACjE,6BAA0B,wCAAwC,CAAC,CAAA;AACnE,mCAAiC,sBAAsB,CAAC,CAAA;AACxD,gCAAsB,gCAAgC,CAAC,CAAA;AACvD,8BAAuB,sCAAsC,CAAC,CAAA;AAC9D,yCAAsC,+DAA+D,CAAC,CAAA;AAGtG,IAAM,GAAG,GAAG,yBAAO,CAAC,SAAS,GAAG,sBAAsB,CAAC;AAUvD;IAOI,mCAAoB,aAA0B,EAC1B,UAAqB,EACrB,YAAwB,EACxB,YAA2B;QAH3B,kBAAa,GAAb,aAAa,CAAa;QAC1B,eAAU,GAAV,UAAU,CAAW;QACrB,iBAAY,GAAZ,YAAY,CAAY;QACxB,iBAAY,GAAZ,YAAY,CAAe;QAC3C,IAAI,CAAC,UAAU,GAAE,IAAI,uCAAkB,CAAC;IAG5C,CAAC;;IAKD,4CAAQ,GAAR;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,wBAAwB,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC;iBACzF,SAAS,CACN,UAAA,IAAI;gBACJ,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAChB,CAAC;oBACG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACvB,CAAC;gBACD,IAAI;oBACA,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;YAEtD,CAAC,EACG,UAAA,KAAK;YACT,CAAC,CACJ,CAAA;QAEL,CAAC;QACD,IAAI,CAAC,CAAC;YACF,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,iBAAiB,EAAE,IAAI,CAAC,UAAU,CAAC;iBAC1D,SAAS,CACN,UAAA,IAAI;gBACA,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAClB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAChB,CAAC;oBAEG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACvB,CAAC;gBACD,IAAI,CAAA,CAAC;oBACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;oBACnB,qCAAqC;oBACpC,sBAAsB;oBACtB,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;gBAElD,CAAC;YAET,CAAC,EACG,UAAA,KAAK;YACT,CAAC,CACJ,CAAA;QACL,CAAC;IACL,CAAC;IACD,4CAAQ,GAAR;QACI,IAAI,CAAC,GAAG,OAAO,CAAC,kCAAkC,CAAC,CAAC;QACpD,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;YACZ,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,yBAAyB,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC;iBAC7E,SAAS,CACN,UAAA,IAAI;gBACJ,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;YAGlD,CAAC,EACG,UAAA,KAAK;YACT,CAAC,CAAC,CAAA;QACV,CAAC;IACL,CAAC;IACD,8CAAU,GAAV,UAAW,MAAM;QACb,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;QACxB,sBAAsB;QACtB,IAAI,GAAG,GAAG,UAAU,CAAC;QACrB,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,IAAI,UAAU,CAAC;YAAC,GAAG,GAAG,EAAE,CAAC;QAG5C,MAAM,CAAC,QAAQ,GAAG,GAAG,CAAC;IAE1B,CAAC;IACD,4CAAQ,GAAR;QAAA,iBAuBC;QArBC,IAAI,CAAC,YAAY,GAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACxD,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,iBAAiB,GAAC,IAAI,CAAC,YAAY,EAAC,EAAE,CAAC;iBACjE,SAAS,CACN,UAAA,IAAI;gBACA,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACtB,KAAI,CAAC,UAAU,GAAC,IAAI,CAAC;gBAGrB,0BAA0B;YAG9B,CAAC,EACG,UAAA,KAAK;gBACD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC3B,CAAC,CAAC,CAAA;QACV,CAAC;QACD,IAAI,CAAC,CAAC;QAEN,CAAC;IAEL,CAAC;IACD,iDAAa,GAAb,UAAc,KAAK;QAEf,IAAM,GAAG,GAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAC/C,IAAI,YAAY,GAAC,KAAK,CAAC,IAAI,CAAC,IAAI,GAAC,GAAG,GAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAC,GAAG,GAAC,KAAK,CAAC,IAAI,CAAC,GAAG,GAAC,GAAG,GAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACpF,4BAA4B;QAC5B,IAAI,CAAC,UAAU,CAAC,KAAK,GAAC,YAAY,CAAC;QACrC,mCAAmC;IACrC,CAAC;IA7HL;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAC,MAAM,CAAC,EAAE;YAClB,QAAQ,EAAE,mBAAmB;YAC7B,WAAW,EAAE,uBAAuB;YACpC,UAAU,EAAE,CAAC,iDAA8B,EAAC,kDAAuB,CAAC;YACpE,SAAS,EAAE,CAAC,uBAAuB,CAAC;YACpC,SAAS,EAAE,CAAC,wBAAU,CAAC;YACvB,KAAK,EAAC,CAAC,wBAAQ,CAAC;SACnB,CAAC;;iCAAA;IAsHF,gCAAC;AAAD,CAAC,AArHD,IAqHC;AArHY,iCAAyB,4BAqHrC,CAAA","sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {ErrorService} from \"../../../globals/services/error.service\";\nimport {AdminEredmenyekHeaderComponent} from \"./header.component\";\nimport {APIService} from \"../../../globals/services/API.service\";\nimport {AuthService} from \"../../../globals/services/auth.service\";\nimport {EredmenyekDeffault} from \"./eredmenyekDeffault\";\nimport {globals} from \"../../../utils/global.constats\";\nimport {hunkDate} from \"../../../globals/pipes/hunkDate.pipe\";\nimport {DateTimePickerComponent} from \"../../../components/date-time-picker/DateTimePicker.component\";\n\n\nconst URL = globals.backendIp + 'api/eredmenyek_kepek';\n@Component({\n    moduleId:module.id,\n    selector: 'eredmenyek-modify',\n    templateUrl: 'eredmenyekModify.html',\n    directives: [AdminEredmenyekHeaderComponent,DateTimePickerComponent],\n    styleUrls: ['eredmenyek-modify.css'],\n    providers: [APIService],\n    pipes:[hunkDate]\n})\nexport class EredmenyekModifyComponent implements OnInit {\n    eredmenyek:EredmenyekDeffault;\n    eredmenyekId:number;\n    positions:Array<number>;\n    modifying:any;\n    file:File;\n\n    constructor(private _ErrorService:ErrorService,\n                private _ApiSrvice:APIService,\n                private _AuthService:AuthService,\n                private _RouteParams:ActivatedRoute) {\n        this.eredmenyek= new EredmenyekDeffault;\n\n\n    }\n\n;\n\n\n    onUpdate() {\n        if (this.eredmenyek.id) {\n            this._ApiSrvice.getResponsePUT('api/eredmenyek/modify/' + this.eredmenyek.id, this.eredmenyek)\n                .subscribe(\n                    data=> {\n                    if (data.errors)\n                    {\n                        alert(data.errors);\n                    }\n                    else\n                        window.location.replace(\"#/admin/eredmenyek\");\n\n                },\n                    error=> {\n                }\n            )\n\n        }\n        else {\n            this._ApiSrvice.getResponse('api/eredmenyek/', this.eredmenyek)\n                .subscribe(\n                    data=> {\n                        console.log(data);\n                        if (data.errors)\n                        {\n\n                            alert(data.errors);\n                        }\n                        else{\n                            console.log(data);\n                           // this.eredmenyek = data.Eredmenyek;\n                            //this.refreshKepek();\n                            window.location.replace(\"#/admin/eredmenyek\");\n\n                        }\n\n                },\n                    error=> {\n                }\n            )\n        }\n    }\n    onDelete() {\n        var r = confirm(\"Biztosan törlöd az eredmenyekt?!\");\n        if (r == true) {\n            this._ApiSrvice.getResponsePUT('api/eredmenyek/archive/' + this.eredmenyek.id, '')\n                .subscribe(\n                    data=> {\n                    window.location.replace(\"#/admin/eredmenyek\");\n\n\n                },\n                    error=> {\n                })\n        }\n    }\n    onModifyIt($event) {\n        this.modifying = $event;\n        //console.log($event);\n        let css = 'selected';\n        if ($event.cssClass == 'selected') css = '';\n\n\n        $event.cssClass = css;\n\n    }\n    ngOnInit() {\n\n      this.eredmenyekId=this._RouteParams.snapshot.params['id'];\n        if (this.eredmenyekId) {\n            this._ApiSrvice.getResponseGET('api/eredmenyek/'+this.eredmenyekId,'')\n                .subscribe(\n                    data=> {\n                        console.log(data);\n                    this.eredmenyek=data;\n\n\n                    //console.log(this.kepek);\n\n\n                },\n                    error=> {\n                        console.log(error);\n                })\n        }\n        else {\n\n        }\n\n    }\n    onDateChanged(event){\n\n        const old =this.eredmenyek.datum.split(\" \", 2);\n        let eredmenydate=event.date.year+'-'+event.date.month+'-'+event.date.day+' '+old[1];\n        //console.log(eredmenydate);\n        this.eredmenyek.datum=eredmenydate;\n      //  console.log(event+'---> '+old);\n    }\n}\n"]}