{"version":3,"file":"ingatlanKep.component.js","sourceRoot":"","sources":["file:///C:/wamp64/www/ingatlanlotto/winner_front/tmp/broccoli_type_script_compiler-input_base_path-iiT2HxTb.tmp/0/src/app/views/admin/ingatlanok/ingatlanKep.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAqC,eAAe,CAAC,CAAA;AACrD,8BAA2B,yCAAyC,CAAC,CAAA;AACrE,4BAAyB,uCAAuC,CAAC,CAAA;AACjE,gCAAsB,gCAAgC,CAAC,CAAA;AAkEvD;IASI,8BAAoB,aAA0B,EAAU,WAAsB;QAA1D,kBAAa,GAAb,aAAa,CAAa;QAAU,gBAAW,GAAX,WAAW,CAAW;QAL9E,SAAI,GAAS,yBAAO,CAAC,SAAS,CAAC;QAC/B,eAAU,GAAG,IAAI,mBAAY,EAAU,CAAC;QACxC,aAAQ,GAAE,IAAI,mBAAY,EAAW,CAAC;QACtC,YAAO,GAAE,IAAI,mBAAY,EAAW,CAAC;QACrC,eAAU,GAAC,KAAK,CAAC;IACgE,CAAC;;IAClF,2CAAY,GAAZ;QACE,mBAAmB;QACjB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAEzC,CAAC;IACD,yCAAU,GAAV;QAEI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAChC,IAAI,CAAC,QAAQ,GAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;IAElC,CAAC;IACD,qCAAM,GAAN;QAAA,iBAeC;QAdG,4CAA4C;QAC5C,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,4BAA4B,GAAC,IAAI,CAAC,MAAM,CAAC,EAAE,EAAC,IAAI,CAAC,MAAM,CAAE;aACpF,SAAS,CACN,UAAA,IAAI;YACL,8BAA8B;YAEzB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC5B,iDAAiD;QACrD,CAAC,EAEG,UAAA,KAAK;YACL,8DAA8D;QAClE,CAAC,CACJ,CAAA;IACL,CAAC;IACD,0CAAW,GAAX,UAAY,KAAK;QACb,IAAI,CAAC,MAAM,CAAC,GAAG,GAAC,KAAK,CAAC;IAC1B,CAAC;IACD,wCAAS,GAAT,UAAU,KAAK;QAAf,iBAgBC;QAfG,KAAK,CAAC,KAAK,CAAC,CAAC;QACb,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,4BAA4B,GAAC,IAAI,CAAC,MAAM,CAAC,EAAE,EAAC,EAAC,GAAG,EAAC,KAAK,EAAC,CAAC;aACnF,SAAS,CACN,UAAA,IAAI;YAGA,KAAI,CAAC,UAAU,EAAE,CAAC;QAE1B,CAAC,EAEG,UAAA,KAAK;QAET,CAAC,CACJ,CAAA;IAEL,CAAC;IAvGL;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,cAAc;YACxB,QAAQ,EAAE,m+BAqCT;YACD,SAAS,EAAE,CAAC,0BAA0B,CAAC;YACvC,MAAM,EAAE,CAAC,QAAQ,EAAC,WAAW,CAAC;YAC9B,OAAO,EAAE,CAAC,YAAY,EAAC,UAAU,EAAC,SAAS,CAAC;SAG/C,CAAC;;4BAAA;IA0DF,2BAAC;AAAD,CAAC,AAzDD,IAyDC;AAzDY,4BAAoB,uBAyDhC,CAAA","sourcesContent":["import {Component,EventEmitter} from '@angular/core';\nimport {ErrorService} from \"../../../globals/services/error.service\";\nimport {APIService} from \"../../../globals/services/API.service\";\nimport {globals} from \"../../../utils/global.constats\";\nexport interface kepType{\n    id: number,\n    ingatlan_id: number,\n    name: string,\n    pos: number,\n    file: string,\n    archived: number,\n    created_at?: string,\n    updated_at?: string,\n    paths: {\n        kicsi: string,\n        kozepes: string,\n        nagy: string,\n    },\n    cssClass?:string\n\n\n}\n@Component({\n    moduleId: module.id,\n    selector: 'ingatlan-kep',\n    template: `\n   <div  class=\"{{kepObj.cssClass}}\">\n\n\n       <img (click)=\"onModifyIt()\" src=\"{{host}}{{kepObj.paths.kozepes}}\" alt=\"\"/>\n        <div *ngIf=\"kepObj.cssClass\">\n        <section>\n\n                <label> Kép neve:</label>\n                <input class=\"textinput\" [(ngModel)]=\"kepObj.name\" >\n </section>\n  <section>\n\n                <label>Kép pozíció:</label>\n\n                    <select class=\"textinput\" [(ngModel)]=\"position\" #posIndex (change)=\"onChangePos(posIndex.value)\">\n                            <option *ngFor=\"let pos of positions, let i=index\" value=\"{{pos}}\">{{pos}}</option>\n                    </select>\n\n </section>\n        <section >\n                <button (click)=\"update()\" class=\"btn green\">Adatokfrissítése </button>\n\n </section>\n <sectio><button (click)=\"onArchivePic()\" class=\"btn\">Kép törlése </button></sectio>\n\n\n\n\n\n\n\n\n\n       </div>\n   </div>\n\n    `,\n    styleUrls: [\"ingatlanKepComponent.css\"],\n    inputs: ['kepObj','positions'],\n    outputs: ['archivePic','modifyIt','refresh']\n\n\n})\nexport class ingatlanKepComponent {\n    kepObj:kepType;\n    positions:Array<number>;\n    position:number;\n    host:string =globals.backendIp;\n    archivePic = new EventEmitter<number>();\n    modifyIt= new EventEmitter<kepType>();\n    refresh= new EventEmitter<boolean>();\n    isSelected=false;\n    constructor(private _ErrorService:ErrorService, private _APIService:APIService) {};\n    onArchivePic() {\n      //  alert('pause');\n        this.archivePic.emit(this.kepObj.id);\n\n    }\n    onModifyIt(){\n\n        this.modifyIt.emit(this.kepObj);\n        this.position=this.kepObj.pos;\n\n    }\n    update(){\n        //let objectForPost={name:this.kepObj.name};\n        this._APIService.getResponsePUT('api/ingatlan_kepek/modify/'+this.kepObj.id,this.kepObj )\n            .subscribe(\n                data=> {\n               // this.kepObj.name=data.name;\n\n                    this.refresh.emit(true);\n                //this._ErrorService.setErrorMsg(data.msg, true);\n            }\n            ,\n                error=> {\n                //this._ErrorService.setErrorMsg('Sikertelen bejelentketés!');\n            }\n        )\n    }\n    onChangePos(event){\n        this.kepObj.pos=event;\n    }\n    modifyPos(value){\n        alert(value);\n        this._APIService.getResponsePUT('api/ingatlan_kepek/modify/'+this.kepObj.id,{pos:value})\n            .subscribe(\n                data=> {\n\n\n                    this.onModifyIt();\n\n            }\n            ,\n                error=> {\n\n            }\n        )\n\n    }\n}\n"]}