{"version":3,"file":"hunkRichTexteditor.component.js","sourceRoot":"","sources":["file:///C:/wamp64/www/ingatlanlotto/winner_front/tmp/broccoli_type_script_compiler-input_base_path-iiT2HxTb.tmp/0/src/app/components/hunk-richtexteditor/hunkRichTexteditor.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, OnInit,ElementRef,EventEmitter ,ViewChild } from '@angular/core';\nimport { animate, AnimationEntryMetadata, state, style, transition, trigger } from '@angular/core';\nimport { DomSanitizationService, SafeHtml } from '@angular/platform-browser';\n\n@Component({\n    selector: 'hunk-richtext',\n    moduleId: module.id,\n    templateUrl: 'richtextview.html',\n    providers: [],\n    styleUrls: [\"richtextview.css\"],\n    directives: [],\n    inputs: ['htmlcontent','saveIconBarTop'],\n    outputs: ['saved']\n\n\n})\nexport class HunkRichTextComponent implements OnInit {\n\n  @ViewChild('editorContent') editorContent:ElementRef;\n  saveIconBarTop=280;\n    htmlcontent:string;\n    source:string;\n    isEditing = false; //editing mode\n    viewIconsIconsVisible = false;\n    saved = new EventEmitter<string>();\n    focuseelement:any; //szerkeszthető div\n    showSource:boolean = false;\n    mainstyle = {padding: 50,lineheight:99,width:500,top:0};\n    fontColors=[\"AliceBlue\",\"AntiqueWhite\",\"Aqua\",\"Aquamarine\",\"Azure\",\"Beige\",\"Bisque\",\"Black\",\"BlanchedAlmond\",\"Blue\",\"BlueViolet\",\"Brown\",\"BurlyWood\",\"CadetBlue\",\"Chartreuse\",\"Chocolate\",\"Coral\",\"CornflowerBlue\",\"Cornsilk\",\"Crimson\",\"Cyan\",\"DarkBlue\",\"DarkCyan\",\"DarkGoldenRod\",\"DarkGray\",\"DarkGrey\",\"DarkGreen\",\"DarkKhaki\",\"DarkMagenta\",\"DarkOliveGreen\",\"Darkorange\",\"DarkOrchid\",\"DarkRed\",\"DarkSalmon\",\"DarkSeaGreen\",\"DarkSlateBlue\",\"DarkSlateGray\",\"DarkSlateGrey\",\"DarkTurquoise\",\"DarkViolet\",\"DeepPink\",\"DeepSkyBlue\",\"DimGray\",\"DimGrey\",\"DodgerBlue\",\"FireBrick\",\"FloralWhite\",\"ForestGreen\",\"Fuchsia\",\"Gainsboro\",\"GhostWhite\",\"Gold\",\"GoldenRod\",\"Gray\",\"Grey\",\"Green\",\"GreenYellow\",\"HoneyDew\",\"HotPink\",\"IndianRed\",\"Indigo\",\"Ivory\",\"Khaki\",\"Lavender\",\"LavenderBlush\",\"LawnGreen\",\"LemonChiffon\",\"LightBlue\",\"LightCoral\",\"LightCyan\",\"LightGoldenRodYellow\",\"LightGray\",\"LightGrey\",\"LightGreen\",\"LightPink\",\"LightSalmon\",\"LightSeaGreen\",\"LightSkyBlue\",\"LightSlateGray\",\"LightSlateGrey\",\"LightSteelBlue\",\"LightYellow\",\"Lime\",\"LimeGreen\",\"Linen\",\"Magenta\",\"Maroon\",\"MediumAquaMarine\",\"MediumBlue\",\"MediumOrchid\",\"MediumPurple\",\"MediumSeaGreen\",\"MediumSlateBlue\",\"MediumSpringGreen\",\"MediumTurquoise\",\"MediumVioletRed\",\"MidnightBlue\",\"MintCream\",\"MistyRose\",\"Moccasin\",\"NavajoWhite\",\"Navy\",\"OldLace\",\"Olive\",\"OliveDrab\",\"Orange\",\"OrangeRed\",\"Orchid\",\"PaleGoldenRod\",\"PaleGreen\",\"PaleTurquoise\",\"PaleVioletRed\",\"PapayaWhip\",\"PeachPuff\",\"Peru\",\"Pink\",\"Plum\",\"PowderBlue\",\"Purple\",\"Red\",\"RosyBrown\",\"RoyalBlue\",\"SaddleBrown\",\"Salmon\",\"SandyBrown\",\"SeaGreen\",\"SeaShell\",\"Sienna\",\"Silver\",\"SkyBlue\",\"SlateBlue\",\"SlateGray\",\"SlateGrey\",\"Snow\",\"SpringGreen\",\"SteelBlue\",\"Tan\",\"Teal\",\"Thistle\",\"Tomato\",\"Turquoise\",\"Violet\",\"Wheat\",\"White\",\"WhiteSmoke\",\"Yellow\",\"YellowGreen\"];\n\n    fontSizes=[];\n    customClasses=[{'name':'piros fejléccel'},{'name':'Főcím'}]\n    constructor(private _element:ElementRef,  private domSanitizationService: DomSanitizationService) {\n\n\n    }\n\n    ngOnInit() {\n        // console.log(this.source);\n        // this.refresh();\n        for (let i=8;i<51;i=i+2){\n            this.fontSizes.push(i);\n        }\n        console.log(this._element);\n        this.mainstyle.width=this._element.nativeElement.children[0].clientWidth;\n        this.mainstyle.top=this._element.nativeElement.children[0].offsetTop;\n\n    }\n\n    /*viewIconsIcons events BEGIN*/\n    onShowSource() {\n        this.showSource = !this.showSource;\n        if (this.showSource) {\n            if (this.source) {\n\n                this.refresh();\n                this.source = this.htmlcontent;\n            }\n\n            else {\n\n\n                this.source = this.htmlcontent;\n            }\n\n        }\n\n\n    }\n\n    editing(event) {\n\n        if (this.source)\n            this.htmlcontent = this.source;\n        this.isEditing = event;\n\n    }\n\n    /*viewIconsIcons events END*/\n    private refresh() {\n    //  console.log(this.editorContent);\n        if (this.viewIconsIconsVisible)\n            this.focuseelement = this.editorContent.nativeElement.innerHTML;\n\n        else {\n            this.focuseelement = this.editorContent.nativeElement.innerHTML;\n\n        }\n        this.source = this.focuseelement;\n\n    }\n\n    getSelectionHtml() {\n\n        var range = window.getSelection().getRangeAt(0),\n            content = range.extractContents(),\n            span = document.createElement('SPAN');\n\n        span.appendChild(content);\n        var htmlContent = span.innerHTML;\n\n\n\n        console.log (htmlContent);\n        return htmlContent;\n    }\n    insertAction(tagBefore, tagAfter) {\n\n    let sel = window.getSelection();\n\n    /*console.log(sel.focusNode.parentNode.style);\n     console.log(sel);*/\n    let html:any;\n    if (sel.toString() == \"\") {\n        html = tagBefore + '&zwnj;' + tagAfter;\n    } else {\n        html = tagBefore + this.getSelectionHtml() + tagAfter;\n    }\n\n    let range = window.getSelection().getRangeAt(0);\n    range.deleteContents();\n\n    if (range.createContextualFragment) {\n        let fragment = range.createContextualFragment(html);\n        range.insertNode(fragment);\n        this.refresh();\n        if (sel.toString() == \"\")\n            this.putFocusInsideTag();\n    }\n\n\n}\n\n    putFocusInsideTag() {\n\n        var el = window.getSelection().focusNode.nextSibling;\n        var range = document.createRange();\n        var sel = window.getSelection();\n        range.setStart(el, 1);\n        range.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(range);\n    }\n\n    updateFromSource() {\n        this.htmlcontent = this.source;\n\n    }\n\n    save() {\n        this.refresh();\n // console.log(this.source);\n      this.saved.emit(this.source);\n    }\n\n    /*Gloabals Editing Begin*/\n    changeFontSize(fontsize){\n\n        this.insertAction('<span style=font-size:'+fontsize+'px;>','</span>');\n     //   this.changelineSize(fontsize*1.4);\n    }\n    changeFontColor(color)\n    {\n\n        this.insertAction('<span style=color:'+color+'>','</span>');\n    }\n    changebgColor(color){\n        this.insertAction('<span style=background-color:'+color+'>','</span>');\n    }\n    changelineSize(fontsize){\n\n        this.insertAction('<span style=line-height:'+fontsize+'px>','</span>');\n    }\n    onChangeMainStyle(way) {\n        switch (way) {\n            case 'compress':\n            case 'expand':\n                this.mainstyle.padding += (way == 'compress') ? +20 : -20;\n                break;\n\n        }\n\n    }\n\n    /*Gloabals Editing END*/\n  getHtml(){\n /*   return this.domSanitizationService.bypassSecurityTrustHtml(`<div class=\"dynamic\"><b><span style=\"font-size: 40px\">Hel</span>lo</b>> world</div>`);*/\n    let html= this.domSanitizationService.bypassSecurityTrustHtml(this.htmlcontent);\n    return html;\n  }\n}\n\n"]}