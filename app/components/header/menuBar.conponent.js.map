{"version":3,"file":"menuBar.conponent.js","sourceRoot":"","sources":["file:///C:/wamp64/www/ingatlanlotto/winner_front/tmp/broccoli_type_script_compiler-input_base_path-HdRV4ODo.tmp/0/src/app/components/header/menuBar.conponent.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {ROUTER_DIRECTIVES} from  '@angular/router';\nimport {MiddleBar} from  './midleBar.component';\nimport {APIService} from  '../../globals/services/API.service';\nimport {AuthService} from  '../../globals/services/auth.service';\nimport {AuthType} from  '../../globals/TYPES';\nimport {globals} from \"../../utils/global.constats\";\n\n@Component({\n     moduleId: module.id,\n    selector: 'menu-bar',\n    templateUrl: 'htmls/statusbar.html',\n    styleUrls: [\"css/header.css\"],\n    directives: [ROUTER_DIRECTIVES, MiddleBar],\n    providers: [APIService]\n})\nexport class MenuBarComponent implements OnInit {\n    showSale = false;\n    loginDropdownOpen = false;\n    logged = false;\n    middleMenus:Array<String>;\n    email='admin@gmail.com';\n    password='winnerPassword2016';\n    constructor(private _APIService:APIService,\n                private _AuthService:AuthService) {\n    }\n\n    onMouseOut(event) {\n        var e = event.toElement || event.relatedTarget;\n        if (e.parentNode == this || e == this) {\n            return;\n        }\n        console.log(e.nodeType);\n        // handle mouse eve\n    }\n\n    openLoginPanel() {\n        this.loginDropdownOpen = !this.loginDropdownOpen;\n    }\n\n    login() {\n        var loginAs = {\n\n            grant_type: this._AuthService.grantType(),\n            client_id: globals.client_id,\n            client_secret: globals.client_secret,\n            username: this.email,\n            password: this.password\n\n\n        };\n\n\n        this._APIService.getResponse('oauth/acces_token', loginAs).subscribe(\n                data=> {\n                console.log(data);\n\n                if (data.msg == 'login success') {\n\n                    //this.reloadMenu(data.oauth.access_token);\n                    this.logged = this._AuthService.setUser({access_token: data.oauth.access_token});\n                    this.reloadMenu();\n\n                }\n\n\n            }\n            ,\n                error=> {\n                console.log(error);\n            }\n        )\n    }\n    logOut(){\n        this._APIService.logOut().subscribe(\n                data=> {\n\n                console.log(data);\n                  this.loginDropdownOpen=false;\n                    this.logged = this._AuthService.userDestroy();\n                    this.reloadMenu();\n\n\n            }\n            ,\n                error=> {\n\n                console.log(error);\n\n            }\n        )\n\n\n    }\n    reloadMenu() {\n\n        this._APIService.getMenus(this.logged)\n            .subscribe(\n                data=> {\n               console.log(data);\n                    this.middleMenus = data.menuArr;\n            }\n            ,\n                error=> {\n                    console.log(error);\n                this._AuthService.userDestroy();\n                  this.reloadMenu();\n\n\n            }\n        )\n    }\n\n    ngOnInit():any {\n        this.logged=this._AuthService.logged;\n        this.reloadMenu();\n\n    }\n\n\n}\n"]}